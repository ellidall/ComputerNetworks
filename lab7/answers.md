### Лабораторная №7 (TCP + Wireshark)

Анализ файла: `tcp-wireshark-trace1-1.pcapng`.

1) Источник (клиент): IP `192.168.86.68`, TCP-порт `55639`.

2) Назначение (сервер `gaia.cs.umass.edu`): IP `128.119.245.12`, TCP-порт `80`.

3) SYN (инициация соединения):
   - Sequence Number (ISN клиента): `4236649187` (пакет с флагом [S]).
   - Идентификация как SYN: флаг `S`, присутствуют TCP-опции (mss, wscale, TS, sackOK).
   - Поддержка SACK у получателя: да, в SYN клиента есть `sackOK`, сервер в SYN/ACK подтверждает SACK.

4) SYN/ACK (ответ сервера):
   - Sequence Number сервера: `1068969752`.
   - ACK number: `4236649188` (= ISN клиента + 1).
   - Идентификация как SYN/ACK: флаги `[S.]` (SYN и ACK одновременно).

5) Первый TCP-сегмент с заголовком HTTP POST:
   - Номер последовательности: `4236649188` (первый сегмент данных после рукопожатия).
   - Полезная нагрузка сегмента: `1448` байт.
   - Весь файл не поместился в один сегмент: `Content-Length: 152359`, передача разбита на множество сегментов.

6) RTT (по первому и второму сегментам с данными):
   - 1-й сегмент данных отправлен в ~`1612320206.716922`, ACK на него (`ack 4236650636`) в ~`1612320206.745546` → RTT ≈ `0.028624` с.
   - 2-й сегмент данных отправлен в ~`1612320206.716923`, ACK (`ack 4236652084`) в ~`1612320206.745551` → RTT ≈ `0.028628` с.
   - EstimatedRTT после второго ACK при α=0.125 (начальный EstimatedRTT = RTT1):
     `EstimatedRTT = 0.875*0.028624 + 0.125*0.028628 ≈ 0.028625 с`.

7) Суммарная длина (колонка Length) первых 4 сегментов с данными от клиента:
   - 4 × 1448 = `5792` байт.

8) Минимальный рекламируемый сервером размер окна (rwnd) в первых четырёх его сегментах (включая SYN/ACK):
   - Значения окна (без учета масштабирования): `28960` (SYN/ACK), затем `249`, `272`, `295`.
   - Минимум: `249`. Сервер объявил `wscale 7` (масштаб 128), значит минимальный rwnd ≈ `249 × 128 = 31872` байта.
   - Ограничивало ли это скорость отправителя? На данном этапе — нет заметно: клиент отправляет длинные пачки MSS-сегментов, окно быстро растёт, явного става на rwnd не видно.

9) Повторные передачи (retransmissions):
   - В рассматриваемом участке явных ретрансляций не наблюдается (нет повторов seq с пометками и характерных задержек). В целом их можно выявлять по дубликатам номеров последовательности/ACK и меткам анализатора.

10) Сколько байт подтверждается одним ACK (первые ~10 ACK):
   - Обычно сервер подтверждает по одному-двум сегментам за ACK: ~`1448` байт (1 MSS) либо ~`2896` байт (2 MSS) — видна работа отложенных ACK.

11) Пропускная способность (throughput) TCP-соединения (клиент→сервер):
   - Интервал передачи данных: с ~`1612320206.716922` (первый сегмент с данными) до ~`1612320206.840557` (последний сегмент с данными, 1385 байт) → длительность ≈ `0.1236` с.
   - Объём данных по seq: от `4236649188` до `4236802613` → ≈ `153425` байт.
   - Throughput ≈ `153425 / 0.1236 ≈ 1.24` МБ/с ≈ `9.9` Мбит/с.

12) Фазы управления перегрузками на графике Time-Sequence (Stevens) в моменты t ≈ 0.025, 0.053, 0.082, 0.1 с:
   - ~0.025 и ~0.053 с: характерен быстрый (почти экспоненциальный) рост объёма отправки — фаза «slow start».
   - ~0.082 и ~0.1 с: рост становится ближе к линейному — фаза «congestion avoidance».

13) Наблюдается ли периодичность групп пакетов?
   - Да, группы/пачки заметно ритмичны. Это связано с ACK-часовкой (self-clocking), задержанными ACK (часто 1 ACK на 2 MSS), а также с RTT — отправитель получает кумулятивные ACK пакетами и выпускает следующую «волну» данных примерно с периодом RTT.


