### Демонстрация работы приложения в директории **[screenshots](./screenshots)**

# Документация по надёжному транспортному протоколу (RDTP) на C++

## Обзор

Данное приложение реализует **надёжную передачу файлов поверх ненадёжного UDP-канала**, эмулируя ключевые механизмы протокола TCP.  
Решение состоит из двух независимых исполняемых файлов: **отправителя** (`rdtSender`) и **получателя** (`rdtReceiver`), взаимодействующих по схеме **клиент-сервер**.

Протокол использует алгоритм **Go-Back-N (GBN)** со скользящим окном для эффективной передачи данных даже при наличии потерь и задержек в сети.

---

## Архитектура

### Общие принципы
- **Транспорт**: UDP (ненадёжный, без установки соединения).
- **Надёжность**: обеспечивается за счёт:
  - Нумерации пакетов (`seqNum` как `uint32_t`),
  - Подтверждений (ACK),
  - Таймаутов и повторных передач,
  - Скользящего окна (размер по умолчанию — 4 пакета).
- **Симуляция ненадёжности**: внесение искусственных потерь и задержек на уровне приложения.

### Отправитель (`rdtSender`)
1. Читает указанный файл в память.
2. Делит данные на пакеты по 1024 байта.
3. Отправляет пакеты в пределах скользящего окна.
4. Ждёт подтверждения (ACK) от получателя.
5. При таймауте — переотправляет всё окно (Go-Back-N).
6. Завершает передачу после подтверждения последнего пакета.
7. Выводит статистику: количество пакетов, ретрансляций, процент потерь, пропускную способность.

### Получатель (`rdtReceiver`)
1. Ожидает входящие UDP-пакеты на указанном порту.
2. Принимает **только пакеты по порядку** (начиная с ожидаемого `expectedSeqNum`).
3. При получении любого пакета (даже дубликата) — отправляет ACK за **последний последовательно полученный пакет**.
4. Игнорирует все out-of-order пакеты (поведение Go-Back-N).
5. Записывает данные в выходной файл.
6. Завершается по таймауту (5 секунд без активности).

### Симуляция ненадёжного канала
- **Потери пакетов**: с вероятностью 10% любой пакет (данные или ACK) **не отправляется**.
- **Задержки**: с вероятностью 20% перед отправкой вводится задержка 50–300 мс.
- Параметры задаются константами и легко настраиваются:
  ```cpp
  constexpr double LOSS_PROBABILITY = 0.2;
  constexpr double DELAY_PROBABILITY = 0.2;