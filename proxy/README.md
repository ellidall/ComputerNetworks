### Демонстрация работы приложения в директории **[screenshots](./screenshots)**

# Документация по HTTP Proxy Server на C++

## Обзор

Прокси-сервер реализует **базовый HTTP-прокси с кэшированием на диск**, соответствующий учебному техническому заданию.  
Сервер поддерживает два режима работы:

1. **Стандартный прокси-режим** — через настройку браузера.
2. **Gateway-режим** — прямой доступ по URL вида `http://localhost:8888/host`.

Все ответы от целевых серверов **полностью кэшируются на диск**, включая HTTP-заголовки и тело.  
При повторных запросах кэш используется автоматически.

---

## Архитектура

- **Язык**: C++20 с использованием POSIX-сокетов.
- **Модель**: Однопоточный, блокирующий сервер.
- **Кэширование**: файловое, в директории `./cache`.
- **Поддерживаемые запросы**: только `HTTP GET`.
- **Целевые серверы**: только по протоколу **HTTP (порт 80)**. HTTPS не поддерживается.
- **Безопасность**: имена файлов в кэше экранируются; путь нормализуется.

### Логика обработки запроса:
1. Принимается TCP-соединение от клиента.
2. Парсится HTTP-запрос в одном из двух форматов:
   - `GET http://host/path HTTP/1.1` — стандартный прокси-запрос.
   - `GET /host/path HTTP/1.1` — gateway-режим (для тестирования без настройки прокси).
3. Формируется ключ кэша: `host + normalized_path`.
4. Если файл существует в `./cache/` → отправляется клиенту как есть (**CACHE HIT**).
5. Иначе:
   - Устанавливается соединение с `host:80`.
   - Отправляется корректный HTTP-запрос:
     ```
     GET /path HTTP/1.0
     Host: host
     Connection: close
     ```
   - Ответ **потоково** отправляется клиенту **и записывается в кэш** (**CACHE MISS**).

---

## Инструкция по сборке

### Требования
- ОС: Linux, macOS или WSL
- Компилятор: `g++` 11+ или `clang++` с поддержкой C++20
- CMake 3.22+

### Сборка
```bash
   mkdir build && cd build
   cmake ..
   make